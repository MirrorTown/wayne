appname = wayne
httpport = 8080
runmode = dev
autorender = false
copyrequestbody = true
EnableDocs = true
EnableAdmin = true
StaticDir = public:static
# Custom config
ShowSql = false
## if enable username and password login
EnableDBLogin = false
# token, generate jwt token
RsaPrivateKey = "./src/backend/apikey/rsa-private.pem"
RsaPublicKey = "./src/backend/apikey/rsa-public.pem"
# token end time. second
TokenLifeTime=86400

# DingTalk robot token
access_token= "6db350898e42505df243e8d106cf8de9f820025fedd0ac021061ebbec2e68a85"

# kubernetes labels config
AppLabelKey= wayne-app
NamespaceLabelKey = wayne-ns
PodAnnotationControllerKindLabelKey = wayne.cloud/controller-kind

# web shell auth
appKey = "860af247a91a19b2368d6425797921c6"

#hongmao
authUrl = "https://auth.souche-inc.com/auth/realms/hongmao/protocol/openid-connect/token"
clientId = "hongmao"
grantType = "refresh_token"
refreshToken = "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5OTUxMWVlMS1hNjU2LTQ3OGEtOGM1ZS0zMGE4NGE3ZTczM2EifQ.eyJqdGkiOiJlOGI1ODRmOS01ZjJlLTQyYWQtYTk0YS1jNjlmNjY4NjEzZDEiLCJleHAiOjAsIm5iZiI6MCwiaWF0IjoxNTU3ODg5NjY4LCJpc3MiOiJodHRwczovL2F1dGguc291Y2hlLWluYy5jb20vYXV0aC9yZWFsbXMvaG9uZ21hbyIsImF1ZCI6Imh0dHBzOi8vYXV0aC5zb3VjaGUtaW5jLmNvbS9hdXRoL3JlYWxtcy9ob25nbWFvIiwic3ViIjoiMDFiZTc2MjgtMDE2OS00NGYzLTg4N2YtMDVkMGNmYjBjYjIyIiwidHlwIjoiT2ZmbGluZSIsImF6cCI6ImhvbmdtYW8iLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiIxMDM4NDQ3OS00ZWEwLTQxYmMtYjg3OC1kMzRlZWY3ZDcwYzMiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZGV2IiwicHJlXyBkaXN0cmlidXRlIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoib2ZmbGluZV9hY2Nlc3MgcHJvZmlsZSBlbWFpbCJ9.vQjuzb68q9TAIuxZwY3aqw4um58FyjGXEjNHlaAYY30"
clientSecret = "29f40032-b025-4458-8021-03f0b29d9b1e"

#keycloak
kc_username = "admin"
kc_password = "souche2015"

# Set demo namespace and group id
DemoGroupId = "1"
DemoNamespaceId = "1"

# Sentry
LogLevel = "4"
SentryEnable = false
SentryDSN = ""
SentryLogLevel = "4"

# Robin
EnableRobin = false

# api-keys
EnableApiKeys = true

# Bus
BusEnable = false
BusRabbitMQURL = "amqp://guest:guest@127.0.0.1:5672"

# Webhook
EnableWebhook = true
WebhookClientTimeout = 10
WebhookClientWindowSize = 16

# other
# Use Canary/Production Update
# If set app metaData {"mode":"beta"}ï¼Œthe app will auto redirect to BetaUrl
BetaUrl = ""
AppUrl = ""

# sso
[auth.sso]
enabled = true
back_url = "http://way.ee.souche-inc.com/wayne/login/sso/sso?next=http://way.ee.souche-inc.com/wayne/sign-in?ref=/wayne_@@__@@_http://sso.souche-inc.com"
redirect_url = "http://sso.souche-inc.com/login.htm?s="
cookie_name = "_security_token_inc"
get_auth = "http://sso.souche-inc.com/httpApi/getAuthZ.json"

# oauth2
[auth.oauth2]
redirect_url = "http://wayne.ee.souche-inc.com"
enabled = false
client_id = wayne
client_secret = ba0220e8-8faf-454c-860d-6c014fd8f7b9
auth_url = https://keycloak.dasouche-inc.net/auth/realms/hongmao_test/protocol/openid-connect/auth
token_url = https://keycloak.dasouche-inc.net/auth/realms/hongmao_test/protocol/openid-connect/token
api_url = https://keycloak.dasouche-inc.net/auth/realms/hongmao_test/protocol/openid-connect/userinfo
attr_url = https://keycloak.dasouche-inc.net/auth/admin/realms/hongmao_test/users
attr_token = https://keycloak.dasouche-inc.net/auth/realms/master/protocol/openid-connect/token
# If your OAuth 2.0-based authorization service does not have email, name, and dispaly fields, use mapping criteria.
api_mapping = name:phone,email:email,display:preferred_username

# ldap config
# enable ldap login
[auth.ldap]
enabled = false
ldap_url = ldap://127.0.0.1
ldap_search_dn = "cn=admin,dc=example,dc=com"
ldap_search_password = admin
ldap_base_dn = "dc=example,dc=com"
ldap_filter =
ldap_uid = cn
ldap_scope = 2
ldap_connection_timeout = 30

#include "dev.conf"
[dev]
# database configuration:
## mysql
DBName = "wayne"
DBTns = "tcp(172.17.41.153:3306)"
DBUser = "root"
DBPasswd = "souche123"
DBLoc = "Asia%2FShanghai"
DBConnTTL = 30

[prod]

[test]
# database configuration:
## mysql
DBName = "wayne"
DBTns = "tcp(127.0.0.1:3306)"
DBUser = "root"
DBPasswd = "souche123"
DBLoc = "Asia%2FShanghai"
DBConnTTL = 30
